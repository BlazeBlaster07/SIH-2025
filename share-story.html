<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alumni Stories</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&display=swap');

    body {
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      background: #f8fafc;
      color: #1e293b;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* Navbar */
    .nav-bar {
      background-color: #0077B6;
      padding: 12px 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: white;
      box-shadow: 0 2px 12px rgba(0,0,0,0.15);
    }

    .nav-bar a {
      color: white;
      text-decoration: none;
      font-weight: 600;
      padding: 8px 14px;
      border-radius: 6px;
      background-color: #0096c7;
      transition: all 0.3s ease;
    }

    .nav-bar a:hover {
      background-color: #005f8c;
    }

    h1 {
      text-align: center;
      margin: 24px 0 10px;
      font-weight: 700;
      color: #0077B6;
      font-size: 2rem;
    }

    .write-story-container {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .write-story-btn, .filter-btn {
      background-color: #0077B6;
      color: white;
      font-weight: 600;
      padding: 10px 18px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.95rem;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .write-story-btn:hover, .filter-btn:hover {
      background-color: #005f8c;
      transform: translateY(-2px);
    }

    /* Stories Grid */
    .stories-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      padding: 0 20px 40px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .story-card {
      background: white;
      border-radius: 14px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .story-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    }

    .story-header {
      display: flex;
      align-items: center;
      padding: 12px 16px;
      border-bottom: 1px solid #eee;
    }

    .profile-pic {
      width: 42px;
      height: 42px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 12px;
      border: 2px solid #0077B6;
    }

    .story-author {
      font-weight: 600;
      font-size: 1rem;
    }

    .story-image {
      width: 100%;
      height: 220px;
      object-fit: cover;
      background: #ddd;
    }

    .story-content {
      padding: 12px 16px;
      font-size: 0.95rem;
      color: #334155;
      line-height: 1.5;
      min-height: 60px;
    }

    /* Sidebar Drawer */
    .sidebar {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      height: 100%;
      background: white;
      box-shadow: -2px 0 10px rgba(0,0,0,0.2);
      display: flex;
      flex-direction: column;
      padding: 20px;
      transition: right 0.3s ease;
      z-index: 1000;
    }

    .sidebar.open {
      right: 0;
    }

    .sidebar h2 {
      text-align: center;
      color: #0077B6;
      margin-bottom: 20px;
    }

    .sidebar input, .sidebar textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-family: inherit;
    }

    .post-btn {
      background-color: #0077B6;
      color: white;
      font-weight: 600;
      padding: 12px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .post-btn:hover {
      background-color: #005f8c;
    }

    @media (max-width: 600px) {
      .sidebar { width: 100%; }
      .story-image { height: 200px; }
    }
  </style>
</head>
<body>

  <nav class="nav-bar">
    <a href="alumni.html">üè† Alumni Home</a>
    <a href="alumni-profile.html">üë§ Profile</a>
    <a href="#" id="logoutBtn">Logout</a>
  </nav>

  <h1>Alumni Stories</h1>

  <div class="write-story-container">
    <button class="write-story-btn" onclick="openSidebar()">‚úç Write a Story</button>
    <button class="filter-btn" onclick="filterMyPosts()">üìå Your Posts</button>
    <button class="filter-btn" onclick="showAllPosts()">üîÑ Show All</button>
  </div>

  <div class="stories-container" id="storiesContainer">
    <!-- Default Stories (Your Existing Ones) -->
    <!-- I kept them same as your version -->
    <!-- Story 1 --> <div class="story-card"> <div class="story-header"> <img src="https://randomuser.me/api/portraits/men/32.jpg" class="profile-pic" /> <div class="story-author">John Doe</div> </div> <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=320&q=80" class="story-image" /> <div class="story-content">My journey started with humble beginnings at the university, where I built a network of friends and mentors...</div> </div> <!-- Story 2 --> <div class="story-card"> <div class="story-header"> <img src="https://randomuser.me/api/portraits/women/44.jpg" class="profile-pic" /> <div class="story-author">Priya Singh</div> </div> <img src="https://images.unsplash.com/photo-1515377905703-c4788e51af15?auto=format&fit=crop&w=320&q=80" class="story-image" /> <div class="story-content">Participating in community service during college shaped my values and helped me become a better leader...</div> </div> <!-- Story 3 --> <div class="story-card"> <div class="story-header"> <img src="https://randomuser.me/api/portraits/men/12.jpg" class="profile-pic" /> <div class="story-author">Ravi Kumar</div> </div> <img src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=320&q=80" class="story-image" /> <div class="story-content">Landing my first internship in a top MNC was a dream come true. It all started from the campus career fair...</div> </div> <!-- Story 4 --> <div class="story-card"> <div class="story-header"> <img src="https://randomuser.me/api/portraits/women/36.jpg" class="profile-pic" /> <div class="story-author">Ananya Verma</div> </div> <img src="https://images.unsplash.com/photo-1542744173-8e7e53415bb0?auto=format&fit=crop&w=320&q=80" class="story-image" /> <div class="story-content">Building a career in data science was tough but rewarding. I still remember late-night hackathons with my batchmates...</div> </div> <!-- Story 5 --> <div class="story-card"> <div class="story-header"> <img src="https://randomuser.me/api/portraits/men/68.jpg" class="profile-pic" /> <div class="story-author">Carlos Ruiz</div> </div> <img src="https://images.unsplash.com/photo-1468071174046-657d9d351a40?auto=format&fit=crop&w=320&q=80" class="story-image" /> <div class="story-content">After years in the industry, I returned to my alma mater to teach the next generation. It‚Äôs been an incredibly fulfilling journey...</div> </div> <!-- Story 6 --> <div class="story-card"> <div class="story-header"> <img src="https://randomuser.me/api/portraits/women/62.jpg" class="profile-pic" /> <div class="story-author">Maya Sharma</div> </div> <img src="https://images.unsplash.com/photo-1531497865144-0464ef8fb9a5?auto=format&fit=crop&w=320&q=80" class="story-image" /> <div class="story-content">Working abroad in Germany taught me adaptability and cross-cultural communication that changed my perspective...</div> </div> <!-- Story 7 --> <div class="story-card"> <div class="story-header"> <img src="https://randomuser.me/api/portraits/men/25.jpg" class="profile-pic" /> <div class="story-author">Rahul Mehta</div> </div> <img src="https://images.unsplash.com/photo-1554774853-719586f82d77?auto=format&fit=crop&w=320&q=80" class="story-image" /> <div class="story-content">Starting my own startup was risky, but the lessons I learned about leadership and failure were invaluable...</div> </div> <!-- Story 8 --> <div class="story-card"> <div class="story-header"> <img src="https://randomuser.me/api/portraits/women/12.jpg" class="profile-pic" /> <div class="story-author">Sophia Chen</div> </div> <img src="https://images.unsplash.com/photo-1524178232363-1fb2b075b655?auto=format&fit=crop&w=320&q=80" class="story-image" /> <div class="story-content">Collaborating on international research projects helped me connect with brilliant minds and grow as a scientist...</div> </div>
    <!-- Add your other stories here as before -->
    <!-- ... -->
  </div>

  <!-- Sidebar Drawer -->
  <div class="sidebar" id="sidebar">
    <h2>Write Your Story</h2>
    <input type="file" id="storyImage" accept="image/*" />
    <textarea id="storyDesc" placeholder="Write a short description..." rows="4"></textarea>
    <button class="post-btn" onclick="postStory()">Post Story</button>
  </div>

  <script>
    const sidebar = document.getElementById("sidebar");
    const storiesContainer = document.getElementById("storiesContainer");

    let allStories = storiesContainer.innerHTML;
    let myPosts = JSON.parse(localStorage.getItem("userStories")) || [];

    // Show saved posts on page load
    myPosts.forEach(post => {
      storiesContainer.insertAdjacentHTML("afterbegin", post);
    });

    function openSidebar() {
      sidebar.classList.add("open");
    }

    function postStory() {
      const fileInput = document.getElementById("storyImage");
      const desc = document.getElementById("storyDesc").value.trim();

      if (!fileInput.files.length || !desc) {
        alert("Please add an image and a description.");
        return;
      }

      const file = fileInput.files[0];
      const imgURL = URL.createObjectURL(file);

      const cardHTML = `
        <div class="story-card">
          <div class="story-header">
            <img src="https://randomuser.me/api/portraits/men/99.jpg" class="profile-pic" />
            <div class="story-author">You</div>
          </div>
          <img src="${imgURL}" class="story-image" />
          <div class="story-content">${desc}</div>
        </div>`;

      storiesContainer.insertAdjacentHTML("afterbegin", cardHTML);
      myPosts.push(cardHTML);
      localStorage.setItem("userStories", JSON.stringify(myPosts));

      fileInput.value = "";
      document.getElementById("storyDesc").value = "";
      sidebar.classList.remove("open");
    }

    function filterMyPosts() {
      if (myPosts.length === 0) {
        alert("You have not posted any story yet!");
        return;
      }
      storiesContainer.innerHTML = myPosts.join("");
    }

    function showAllPosts() {
      storiesContainer.innerHTML = allStories + myPosts.join("");
    }

    document.getElementById('logoutBtn').addEventListener('click', e => {
      e.preventDefault();
      localStorage.removeItem('loggedInUser');
      window.location.href = 'index.html';
    });
  </script>

</body>
</html>
